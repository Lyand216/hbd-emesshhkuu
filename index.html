<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üçì Happy Birthday My Sweetest! üçì</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --straw-red: #e63946;
            --straw-pink: #ffadd7;
            --straw-cream: #fffdf7;
            --straw-green: #a8e6cf;
            --glass-bg: rgba(255, 255, 255, 0.85); /* Sedikit lebih pekat biar teks jelas di HP */
            --glass-border: rgba(255, 255, 255, 0.9);
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--straw-cream);
            background-image: radial-gradient(var(--straw-pink) 2px, transparent 2px);
            background-size: 30px 30px;
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Mencegah scroll body saat modal aktif */
            color: #4a4a4a;
        }

        /* Background Floating Strawberries */
        .bg-strawberries {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: -1;
        }
        .floating-item {
            position: absolute;
            font-size: 2rem;
            animation: floatUp linear infinite;
            opacity: 0.6;
        }
        @keyframes floatUp {
            to { transform: translateY(-100vh) rotate(360deg); }
        }

        /* Main Container */
        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid var(--glass-border);
            padding: 25px;
            width: 85%; /* Lebih lebar di HP */
            max-width: 500px;
            text-align: center;
            box-shadow: 0 8px 32px 0 rgba(230, 57, 70, 0.2);
            transition: all 0.5s ease;
            position: relative;
            z-index: 10;
            max-height: 90vh; /* Agar tidak kepotong di layar pendek */
            overflow-y: auto; /* Scroll jika konten kepanjangan */
        }

        h1 {
            font-family: 'Pacifico', cursive;
            color: var(--straw-red);
            font-size: 2rem; /* Ukuran font disesuaikan */
            margin-bottom: 10px;
            line-height: 1.2;
        }

        p {
            font-size: 1rem;
            line-height: 1.5;
        }

        /* Buttons */
        .btn-main {
            background: var(--straw-red);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 5px 15px rgba(230, 57, 70, 0.3);
            margin: 8px 5px;
            width: 100%; /* Tombol full width di HP biar gampang dipencet */
            max-width: 250px;
            display: inline-block;
        }
        .btn-main:active {
            transform: scale(0.95);
        }
        
        .btn-yt {
            background: #FF0000;
        }

        /* Sections */
        .section { display: none; opacity: 0; transition: opacity 0.5s ease; }
        .section.active { display: block; opacity: 1; }

        /* Quiz Styling */
        .quiz-option {
            background: white;
            margin: 8px 0;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
            font-weight: bold;
            font-size: 0.95rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .quiz-option:active {
            background: var(--straw-cream);
            transform: scale(0.98);
        }
        .quiz-option.correct { background: var(--straw-green); color: #006400; }
        .quiz-option.wrong { background: var(--straw-red); color: white; animation: shake 0.5s; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* Gallery */
        .gallery { display: flex; gap: 8px; justify-content: center; margin-top: 15px; flex-wrap: wrap;}
        .photo-frame {
            width: 80px; height: 80px; /* Diperkecil dikit biar muat di HP */
            border-radius: 10px;
            border: 3px solid var(--straw-red);
            background-size: cover; background-position: center;
            transform: rotate(-3deg);
            transition: transform 0.3s;
        }
        .photo-frame:nth-child(even) { transform: rotate(3deg); }

        /* --- VIDEO MODAL FIX (RESPONSIVE) --- */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 9999; /* Z-index tinggi */
            left: 0; top: 0; 
            width: 100%; height: 100%; 
            background-color: rgba(0,0,0,0.85); 
            justify-content: center; 
            align-items: center;
            backdrop-filter: blur(5px);
            padding: 20px; /* Jarak aman dari pinggir layar */
            box-sizing: border-box;
        }
        
        .modal-content {
            position: relative;
            width: 100%;
            max-width: 600px;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
            animation: zoomIn 0.3s ease;
        }

        @keyframes zoomIn {
            from {transform: scale(0.8); opacity: 0;}
            to {transform: scale(1); opacity: 1;}
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            background: #000;
        }
        
        .video-wrapper iframe {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            border: none;
        }

        /* TOMBOL CLOSE DIPINDAH KE DALAM AGAR AMAN DI HP */
        .close-btn {
            position: absolute;
            top: 10px; 
            right: 15px;
            color: white;
            font-size: 24px;
            cursor: pointer;
            font-weight: bold;
            background: rgba(0,0,0,0.5);
            width: 35px; height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            border: 2px solid white;
        }
        .close-btn:hover {
            background: red;
        }

        /* RESPONSIVE MEDIA QUERIES */
        @media (max-width: 480px) {
            h1 { font-size: 1.8rem; }
            .container { padding: 20px; width: 90%; }
            .photo-frame { width: 70px; height: 70px; }
            .btn-main { width: 100%; margin: 5px 0; }
        }

    </style>
</head>
<body>
    <audio id="bg-music" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-sweet-moments-and-happy-days-24.mp3" type="audio/mpeg">
    </audio>

    <div class="bg-strawberries" id="bg-strawberries"></div>

    <div id="video-modal" class="modal" onclick="closeVideo(event)">
        <div class="modal-content" onclick="event.stopPropagation()"> <div class="close-btn" onclick="closeVideo(event)">&times;</div>
            <div class="video-wrapper">
                <iframe id="youtube-frame" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div class="container">
        
        <div id="intro" class="section active">
            <h1>Happy Level Up Day Sayang! üçì</h1>
            <p>Ada misi spesial buat ade di hari ulang tahun ini.</p>
            <p>Kumpulkan 10 strawberry cinta untuk membuka kado utamamu!</p>
            <br>
            <button class="btn-main" onclick="startJourney()">LetsGoo! üöÄ</button>
        </div>

        <div id="quiz-section" class="section">
            <h2 id="quiz-question">Pertanyaan...</h2>
            <div id="quiz-options">
                </div>
            <p style="margin-top: 20px; font-size: 0.9rem;">Strawberry terkumpul: <span id="score">0</span>/10 üçì</p>
        </div>

        <div id="finale" class="section">
            <h1>Yey! Misi Berhasil! üéâ</h1>
            <p>Cayangku emang paling Cantik deh.</p>
            
            <div class="gallery">
                <div class="photo-frame" style="background-image: url(foto2.jpeg);"></div>
                <div class="photo-frame" style="background-image: url(foto3.jpeg);"></div>
                <div class="photo-frame" style="background-image: url(foto1.jpeg);"></div>
            </div>

            <div style="margin-top: 20px; text-align: left; max-height: 150px; overflow-y: auto; padding-right: 5px;">
                <p id="typewriter-text" style="font-weight: 600; color: var(--straw-red); font-size: 0.95rem;"></p>
            </div>
            <br>
            
            <button class="btn-main" onclick="sendWA()">üçì Peyuk Online üçì</button>
            <button class="btn-main btn-yt" onclick="playVideo()">üé¨ Tonton Video Spesial</button>
        </div>

    </div>

    <script>
        // --- KONFIGURASI ---

        // Masukkan ID Video Youtube yang BENAR di sini (bukan link full, ID-nya saja)
        // Dari link yg kamu kirim: https://www.youtube.com/embed/HPACVwfFpdc -> ID nya adalah HPACVwfFpdc
        const youtubeVideoID = "HPACVwfFpdc"; 

        const finalMessage = "Dear Strawberry-ku yang paling manis. Selamat ulang tahun ya! Makasih udah jadi warna paling cerah di hidup mas. Mas bikin game kecil ini biar ade tau kalau mas inget hal-hal kecil tentang kita (walaupun ga semuanya dimasukin kuis si hehehe). Semoga dengan bertambahnya umur ini sayang makin dewasa, makin bahagia, makin cantik (padahal udah max), dan makin sayang sama mas yeayyy hihihi, pokoknya semakin baik dalam segala hal yaah. I love you berry berry much! ‚ù§Ô∏è";
        
        const quizData = [
            { question: "Di mana pertama kali kita ketemu?", options: ["Di Kampus", "Di Cafe Kopi Kenangan", "Di Chat WA", "Di Mimpi"], correct: 0 },
            { question: "Kapan mas bilang suka ama sayang? hihihi", options: ["Pas itu", "pas abis makrab (di telfon hehe)", "pas eek", "pas mammmm"], correct: 1 },
            { question: "Make baju apa kita pertama ketemu?", options: ["Pink", "biluuu", "kuning", "Lupa hehe (mas juga, keknya make almet)"], correct: 1 },
            { question: "Apa nama kontak sayang di HP mas?", options: ["Sayang", "My Strawberry üçì", "Ibu Negara", "Nama Lengkap"], correct: 3 },
            { question: "dulu mas manggil sayang pas awal awal apa yaa hihihi?", options: ["Winda", "Adee", "Sayang", "Cantik"], correct: 0 },
            { question: "Kenapa mas sayang banget sama adee?", options: ["Karena sayang cantik", "Karena sayang baik", "Karena takdir", "Semua jawaban benar"], correct: 3 },
            { question: "Nambah umur makin pinter niii hihihi, pukul 19.00 itu jam berapa hayo?", options: ["jam 6 sore", "jam 4 sore", "jam 7 malem", "jam 7 pagi"], correct: 2 },
            { question: "dulu mas pernah join komunitas sayang tuu, apa hayo?", options: ["Pecinta kucing", "pecinta langit", "Pecinta Bulan", "pecinta langit"], correct: 2 },
            { question: "Bagian wajah sayang yang mana yang paling sering mas sentuh?", options: ["Hidung", "Bibir", "Pipi", "Kening"], correct: 1 },
            { question: "Siapa yg lagi laper suka ngambek?", options: ["Adee", "Akuu", "Nyong", "Semua Benar"], correct: 3 }
        ];
        
        // --- LOGIC ---

        let currentQuestion = 0;
        let score = 0;
        const music = document.getElementById('bg-music');

        function startJourney() {
            music.volume = 0.5;
            music.play().catch(() => console.log("Butuh interaksi user untuk play music"));
            changeSection('intro', 'quiz-section');
            loadQuestion();
        }

        function loadQuestion() {
            const q = quizData[currentQuestion];
            document.getElementById('quiz-question').textContent = q.question;
            const optionsDiv = document.getElementById('quiz-options');
            optionsDiv.innerHTML = '';

            q.options.forEach((opt, index) => {
                const div = document.createElement('div');
                div.className = 'quiz-option';
                div.textContent = opt;
                div.onclick = () => checkAnswer(index, div);
                optionsDiv.appendChild(div);
            });
        }

        function checkAnswer(selectedIndex, element) {
            const correctIndex = quizData[currentQuestion].correct;
            
            if (selectedIndex === correctIndex) {
                element.classList.add('correct');
                score++;
                document.getElementById('score').textContent = score;
                triggerConfetti();

                setTimeout(() => {
                    currentQuestion++;
                    if (currentQuestion < quizData.length) {
                        loadQuestion();
                    } else {
                        finishQuiz();
                    }
                }, 1500);

            } else {
                element.classList.add('wrong');
                setTimeout(() => {
                    element.classList.remove('wrong');
                }, 1000);
            }
        }

        function finishQuiz() {
            changeSection('quiz-section', 'finale');
            setTimeout(typeWriter, 500);
        }

        function changeSection(from, to) {
            document.getElementById(from).classList.remove('active');
            setTimeout(() => {
                document.getElementById(to).classList.add('active');
            }, 100);
        }

        let i = 0;
        function typeWriter() {
            if (i < finalMessage.length) {
                document.getElementById("typewriter-text").innerHTML += finalMessage.charAt(i);
                i++;
                setTimeout(typeWriter, 40);
            }
        }

        function triggerConfetti() {
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 }, colors: ['#e63946', '#ffadd7', '#a8e6cf'] });
        }

        function createBg() {
            const container = document.getElementById('bg-strawberries');
            const items = ['üçì', 'üå∏', '‚ú®', 'üíñ'];
            for(let k=0; k<25; k++) {
                const el = document.createElement('div');
                el.className = 'floating-item';
                el.textContent = items[Math.floor(Math.random() * items.length)];
                el.style.left = Math.random() * 100 + 'vw';
                el.style.animationDuration = Math.random() * 10 + 10 + 's';
                el.style.fontSize = Math.random() * 20 + 15 + 'px';
                container.appendChild(el);
            }
        }
        createBg();

        function sendWA() {
            const nomor = "6285764524514";
            const pesan = "Sayang, aku berhasil kumpulin semua strawberrynya! Makasih ya surprisenya, I love you berry much! üçì‚ù§Ô∏è";
            window.open(`https://wa.me/${nomor}?text=${encodeURIComponent(pesan)}`, '_blank');
        }

        // --- VIDEO YOUTUBE LOGIC (REVISI) ---
        
        function playVideo() {
            music.pause();
            const modal = document.getElementById('video-modal');
            modal.style.display = "flex";

            const iframe = document.getElementById('youtube-frame');
            // Menggunakan variabel youtubeVideoID biar rapi & fix URL syntax
            iframe.src = `https://www.youtube.com/embed/${youtubeVideoID}?autoplay=1&rel=0&playsinline=1`;
        }

        function closeVideo(event) {
            // Cek jika event ada (biar fungsi bisa dipanggil manual tanpa event)
            if (event) {
                // Jangan tutup kalau yang diklik adalah area videonya (div.modal-content)
                // Kita mau tutup CUMA kalau klik tombol X atau Background Hitam
                if (event.target.closest('.modal-content') && !event.target.classList.contains('close-btn')) {
                    return;
                }
            }

            const modal = document.getElementById('video-modal');
            modal.style.display = "none";

            const iframe = document.getElementById('youtube-frame');
            iframe.src = ""; // Reset source untuk mematikan video

            music.play();
        }

    </script>
</body>
</html>
